import{r as a,j as e,d as g,L as n}from"./index-311eb106.js";import{f as v}from"./flashcard.service-000b262e.js";import{B as h,C as w,a as y}from"./Card-05bb7dd2.js";function F(){const[s,u]=a.useState([]),[m,c]=a.useState(!0),[i,o]=a.useState(null),[l,f]=a.useState(""),[d,p]=a.useState("recent");a.useEffect(()=>{(async()=>{c(!0),o(null);try{const r=await v.getAllSets();u(r)}catch(r){o("Failed to load flashcard sets"),console.error(r)}finally{c(!1)}})()},[]);const x=[...s.filter(t=>t.title.toLowerCase().includes(l.toLowerCase())||t.description.toLowerCase().includes(l.toLowerCase()))].sort((t,r)=>{if(d==="title")return t.title.localeCompare(r.title);if(d==="cardCount")return r.cardCount-t.cardCount;{const j=t.lastModified?new Date(t.lastModified).getTime():0;return(r.lastModified?new Date(r.lastModified).getTime():0)-j}});return m?e.jsx(g,{}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"My Flashcard Sets"}),e.jsx(n,{to:"/flashcards/new",children:e.jsxs(h,{className:"whitespace-nowrap",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create New Set"]})})]}),e.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-grow",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx("svg",{className:"h-5 w-5 text-neutral-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",value:l,onChange:t=>f(t.target.value),placeholder:"Search flashcard sets...",className:"block w-full rounded-md border-neutral-300 pl-10 focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})}),e.jsx("div",{children:e.jsxs("select",{value:d,onChange:t=>p(t.target.value),className:"block w-full rounded-md border-neutral-300 py-2 pl-3 pr-10 text-base focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm",children:[e.jsx("option",{value:"recent",children:"Recently Modified"}),e.jsx("option",{value:"title",children:"Title (A-Z)"}),e.jsx("option",{value:"cardCount",children:"Card Count"})]})})]}),i&&e.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 p-4 text-red-700",children:i}),x.length>0?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:x.map(t=>e.jsx(N,{set:t},t.id))}):e.jsx("div",{className:"rounded-lg border border-neutral-200 bg-neutral-50 p-8 text-center",children:l?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-2 text-lg font-medium text-neutral-900",children:"No matching flashcard sets"}),e.jsx("p",{className:"text-neutral-600",children:"Try adjusting your search query or create a new set."})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-2 text-lg font-medium text-neutral-900",children:"No flashcard sets yet"}),e.jsx("p",{className:"mb-6 text-neutral-600",children:"Create your first flashcard set to start learning more effectively."}),e.jsx(n,{to:"/flashcards/new",children:e.jsx(h,{children:"Create Flashcard Set"})})]})})]})}function N({set:s}){return e.jsx(w,{className:"h-full transition-all hover:shadow-md",children:e.jsxs(y,{className:"flex h-full flex-col p-0",children:[e.jsxs("div",{className:"flex-grow p-6",children:[e.jsx("h3",{className:"mb-1 font-bold text-neutral-900",children:s.title}),e.jsx("p",{className:"mb-4 text-sm text-neutral-600",children:s.description.length>100?`${s.description.substring(0,100)}...`:s.description}),e.jsxs("div",{className:"flex items-center text-sm text-neutral-500",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-1 h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})}),s.cardCount," cards"]})]}),e.jsxs("div",{className:"flex border-t border-neutral-200",children:[e.jsx(n,{to:`/flashcards/${s.id}`,className:"flex-1 px-4 py-3 text-center text-sm font-medium text-neutral-600 hover:bg-neutral-50",children:"View"}),e.jsx("div",{className:"border-l border-neutral-200"}),e.jsx(n,{to:`/flashcards/${s.id}/study`,className:"flex-1 px-4 py-3 text-center text-sm font-medium text-primary-600 hover:bg-primary-50",children:"Study"})]})]})})}export{F as default};
