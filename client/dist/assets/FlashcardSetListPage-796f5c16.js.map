{"version":3,"file":"FlashcardSetListPage-796f5c16.js","sources":["../../src/pages/app/flashcards/FlashcardSetListPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { flashcardService } from '@/services';\r\nimport { FlashcardSetSummary } from '@/types/flashcard';\r\nimport { Card, CardContent } from '@/components/ui/Card';\r\nimport Button from '@/components/ui/Button';\r\nimport LoadingScreen from '@/components/ui/LoadingScreen';\r\n\r\nexport default function FlashcardSetListPage() {\r\n  const [flashcardSets, setFlashcardSets] = useState<FlashcardSetSummary[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [sortBy, setSortBy] = useState<'recent' | 'title' | 'cardCount'>('recent');\r\n\r\n  useEffect(() => {\r\n    const fetchFlashcardSets = async () => {\r\n      setIsLoading(true);\r\n      setError(null);\r\n      try {\r\n        const fetchedSets = await flashcardService.getAllSets();\r\n        setFlashcardSets(fetchedSets);\r\n      } catch (err) {\r\n        setError('Failed to load flashcard sets');\r\n        console.error(err);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchFlashcardSets();\r\n  }, []);\r\n\r\n  const filteredSets = flashcardSets.filter(set => \r\n    set.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n    set.description.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  const sortedSets = [...filteredSets].sort((a, b) => {\r\n    if (sortBy === 'title') {\r\n      return a.title.localeCompare(b.title);\r\n    } else if (sortBy === 'cardCount') {\r\n      return b.cardCount - a.cardCount;\r\n    } else {\r\n      // Default: sort by recent (lastModified)\r\n      const dateA = a.lastModified ? new Date(a.lastModified).getTime() : 0;\r\n      const dateB = b.lastModified ? new Date(b.lastModified).getTime() : 0;\r\n      return dateB - dateA;\r\n    }\r\n  });\r\n\r\n  if (isLoading) {\r\n    return <LoadingScreen />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <div className=\"mb-8 flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n        <h1 className=\"text-3xl font-bold text-neutral-900\">My Flashcard Sets</h1>\r\n        <Link to=\"/flashcards/new\">\r\n          <Button className=\"whitespace-nowrap\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"mr-2 h-5 w-5\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n            >\r\n              <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\r\n              <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\r\n            </svg>\r\n            Create New Set\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"mb-6 flex flex-col md:flex-row gap-4\">\r\n        <div className=\"flex-grow\">\r\n          <div className=\"relative\">\r\n            <div className=\"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3\">\r\n              <svg\r\n                className=\"h-5 w-5 text-neutral-400\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 20 20\"\r\n                fill=\"currentColor\"\r\n                aria-hidden=\"true\"\r\n              >\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n            </div>\r\n            <input\r\n              type=\"text\"\r\n              value={searchQuery}\r\n              onChange={e => setSearchQuery(e.target.value)}\r\n              placeholder=\"Search flashcard sets...\"\r\n              className=\"block w-full rounded-md border-neutral-300 pl-10 focus:border-primary-500 focus:ring-primary-500 sm:text-sm\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <select\r\n            value={sortBy}\r\n            onChange={e => setSortBy(e.target.value as 'recent' | 'title' | 'cardCount')}\r\n            className=\"block w-full rounded-md border-neutral-300 py-2 pl-3 pr-10 text-base focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm\"\r\n          >\r\n            <option value=\"recent\">Recently Modified</option>\r\n            <option value=\"title\">Title (A-Z)</option>\r\n            <option value=\"cardCount\">Card Count</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"mb-6 rounded-lg border border-red-200 bg-red-50 p-4 text-red-700\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {sortedSets.length > 0 ? (\r\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n          {sortedSets.map((set) => (\r\n            <FlashcardSetCard key={set.id} set={set} />\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <div className=\"rounded-lg border border-neutral-200 bg-neutral-50 p-8 text-center\">\r\n          {searchQuery ? (\r\n            <>\r\n              <h3 className=\"mb-2 text-lg font-medium text-neutral-900\">No matching flashcard sets</h3>\r\n              <p className=\"text-neutral-600\">\r\n                Try adjusting your search query or create a new set.\r\n              </p>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <h3 className=\"mb-2 text-lg font-medium text-neutral-900\">No flashcard sets yet</h3>\r\n              <p className=\"mb-6 text-neutral-600\">\r\n                Create your first flashcard set to start learning more effectively.\r\n              </p>\r\n              <Link to=\"/flashcards/new\">\r\n                <Button>Create Flashcard Set</Button>\r\n              </Link>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface FlashcardSetCardProps {\r\n  set: FlashcardSetSummary;\r\n}\r\n\r\nfunction FlashcardSetCard({ set }: FlashcardSetCardProps) {\r\n  return (\r\n    <Card className=\"h-full transition-all hover:shadow-md\">\r\n      <CardContent className=\"flex h-full flex-col p-0\">\r\n        <div className=\"flex-grow p-6\">\r\n          <h3 className=\"mb-1 font-bold text-neutral-900\">{set.title}</h3>\r\n          <p className=\"mb-4 text-sm text-neutral-600\">\r\n            {set.description.length > 100\r\n              ? `${set.description.substring(0, 100)}...`\r\n              : set.description}\r\n          </p>\r\n          <div className=\"flex items-center text-sm text-neutral-500\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"mr-1 h-4 w-4\"\r\n              viewBox=\"0 0 20 20\"\r\n              fill=\"currentColor\"\r\n            >\r\n              <path d=\"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z\" />\r\n            </svg>\r\n            {set.cardCount} cards\r\n          </div>\r\n        </div>\r\n        <div className=\"flex border-t border-neutral-200\">\r\n          <Link\r\n            to={`/flashcards/${set.id}`}\r\n            className=\"flex-1 px-4 py-3 text-center text-sm font-medium text-neutral-600 hover:bg-neutral-50\"\r\n          >\r\n            View\r\n          </Link>\r\n          <div className=\"border-l border-neutral-200\"></div>\r\n          <Link\r\n            to={`/flashcards/${set.id}/study`}\r\n            className=\"flex-1 px-4 py-3 text-center text-sm font-medium text-primary-600 hover:bg-primary-50\"\r\n          >\r\n            Study\r\n          </Link>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction formatDate(dateString: string | null): string {\r\n  if (!dateString) return 'Never';\r\n  \r\n  const date = new Date(dateString);\r\n  return date.toLocaleDateString('en-US', {\r\n    month: 'short',\r\n    day: 'numeric',\r\n    year: 'numeric'\r\n  });\r\n} "],"names":["FlashcardSetListPage","flashcardSets","setFlashcardSets","useState","isLoading","setIsLoading","error","setError","searchQuery","setSearchQuery","sortBy","setSortBy","useEffect","fetchedSets","flashcardService","err","sortedSets","set","a","b","dateA","LoadingScreen","jsxs","jsx","Link","Button","e","FlashcardSetCard","Fragment","Card","CardContent"],"mappings":"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"}