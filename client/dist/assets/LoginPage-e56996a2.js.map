{"version":3,"file":"LoginPage-e56996a2.js","sources":["../../src/pages/auth/LoginPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { z } from 'zod';\r\nimport toast from 'react-hot-toast';\r\nimport { cn } from '@/utils/cn';\r\n\r\nimport { useAuthStore } from '@/lib/store';\r\nimport { loginFormSchema } from '@/utils/validation';\r\nimport Input from '@/components/ui/Input';\r\nimport Button from '@/components/ui/Button';\r\nimport { Card, CardContent } from '@/components/ui/Card';\r\n\r\ntype LoginFormValues = z.infer<typeof loginFormSchema>;\r\n\r\nexport default function LoginPage() {\r\n  const { login, error, isLoading, clearError, isAuthenticated } = useAuthStore();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const from = location.state?.from?.pathname || '/dashboard';\r\n  const [isVisible, setIsVisible] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<LoginFormValues>({\r\n    resolver: zodResolver(loginFormSchema),\r\n    defaultValues: {\r\n      email: '',\r\n      password: '',\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => setIsVisible(true), 100);\r\n    return () => {\r\n      clearTimeout(timer);\r\n      clearError();\r\n    };\r\n  }, [clearError]);\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      navigate(from, { replace: true });\r\n    }\r\n  }, [isAuthenticated, navigate, from]);\r\n\r\n  const onSubmit = async (data: LoginFormValues) => {\r\n    clearError();\r\n    try {\r\n      await login(data.email, data.password);\r\n      toast.success('Logged in successfully!');\r\n      \r\n      navigate('/dashboard', { replace: true });\r\n      \r\n    } catch (err) {\r\n      if (err instanceof Error && err.message === 'Login successful') {\r\n        toast.success('Logged in successfully!');\r\n        navigate('/dashboard', { replace: true });\r\n        return;\r\n      }\r\n      \r\n      const errorMessage = err instanceof Error ? err.message : 'Login failed';\r\n      toast.error(errorMessage);\r\n      console.error('Login failed:', err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative flex min-h-[80vh] items-center justify-center px-4 py-12 sm:px-6 lg:px-8 overflow-hidden\">\r\n      {/* Background decorative elements */}\r\n      <div className=\"absolute inset-0 bg-gradient-to-br from-primary-50/80 via-white to-accent-50/50 -z-10\"></div>\r\n      <div className=\"absolute -left-20 top-0 h-72 w-72 rounded-full bg-primary-200 opacity-30 blur-[100px] -z-10\"></div>\r\n      <div className=\"absolute -right-20 bottom-0 h-80 w-80 rounded-full bg-accent-100 opacity-30 blur-[100px] -z-10\"></div>\r\n      <div className=\"absolute inset-0 bg-grid-black/[0.02] bg-[length:20px_20px] -z-10\"></div>\r\n      \r\n      <Card \r\n        className={cn(\r\n          \"w-full max-w-md border-neutral-200 shadow-sm transition-all duration-500 overflow-hidden\",\r\n          isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'\r\n        )}\r\n      >\r\n        <div className=\"h-1 w-full bg-primary-500\"></div>\r\n        \r\n        <CardContent className=\"p-8\">\r\n          <div className=\"mb-8 text-center\">\r\n            <Link \r\n              to=\"/\" \r\n              className=\"inline-flex items-center mb-6 text-secondary-800 hover:text-primary-600 transition-colors\"\r\n              aria-label=\"Back to home\"\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" className=\"w-5 h-5 mr-1\">\r\n                <path fillRule=\"evenodd\" d=\"M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n              <span className=\"text-sm font-medium\">Back to home</span>\r\n            </Link>\r\n            \r\n            <div className=\"mx-auto mb-5 h-14 w-14 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 ring-4 ring-primary-50 shadow-sm\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-7 h-7\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z\" />\r\n              </svg>\r\n            </div>\r\n            <h1 className=\"text-3xl font-bold font-heading text-secondary-900 mb-2\">Welcome back</h1>\r\n            <p className=\"text-secondary-600\">\r\n              Please enter your credentials to access your account\r\n            </p>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"mb-6 rounded-lg border border-red-200 bg-red-50 p-4 text-red-700 animate-fadeIn shadow-sm\">\r\n              <div className=\"flex items-center\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-5 h-5 mr-2 text-red-500\">\r\n                  <path fillRule=\"evenodd\" d=\"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n                {error}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-5\">\r\n            <div className={cn(\r\n              \"form-group transition-all duration-300 delay-100\",\r\n              isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'\r\n            )}>\r\n              <Input\r\n                label=\"Email address\"\r\n                type=\"email\"\r\n                error={errors.email?.message || ''}\r\n                leftIcon={<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-5 h-5 text-secondary-400\">\r\n                  <path d=\"M1.5 8.67v8.58a3 3 0 003 3h15a3 3 0 003-3V8.67l-8.928 5.493a3 3 0 01-3.144 0L1.5 8.67z\" />\r\n                  <path d=\"M22.5 6.908V6.75a3 3 0 00-3-3h-15a3 3 0 00-3 3v.158l9.714 5.978a1.5 1.5 0 001.572 0L22.5 6.908z\" />\r\n                </svg>}\r\n                fullWidth\r\n                placeholder=\"your.email@example.com\"\r\n                className=\"group-focus:shadow-sm\"\r\n                {...register('email')}\r\n              />\r\n            </div>\r\n\r\n            <div className={cn(\r\n              \"form-group transition-all duration-300 delay-200\",\r\n              isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'\r\n            )}>\r\n              <Input\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                error={errors.password?.message || ''}\r\n                leftIcon={<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-5 h-5 text-secondary-400\">\r\n                  <path fillRule=\"evenodd\" d=\"M15.75 1.5a6.75 6.75 0 00-6.651 7.906c.067.39-.032.717-.221.906l-6.5 6.499a3 3 0 00-.878 2.121v2.818c0 .414.336.75.75.75H6a.75.75 0 00.75-.75v-1.5h1.5A.75.75 0 009 19.5V18h1.5a.75.75 0 00.75-.75V15h1.5a.75.75 0 00.75-.75v-1.5h1.5a.75.75 0 00.75-.75V9.03a8.358 8.358 0 00.091-1.53A6.75 6.75 0 0015.75 1.5zm-3 8.25a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0z\" clipRule=\"evenodd\" />\r\n                </svg>}\r\n                fullWidth\r\n                placeholder=\"Enter your password\"\r\n                className=\"group-focus:shadow-sm\"\r\n                {...register('password')}\r\n              />\r\n\r\n              <div className=\"mt-2 text-right\">\r\n                <Link\r\n                  to=\"/forgot-password\"\r\n                  className=\"text-sm font-medium text-primary-600 hover:text-primary-700 relative group\"\r\n                >\r\n                  Forgot password?\r\n                  <span className=\"absolute bottom-0 left-0 w-0 h-0.5 bg-primary-500 transition-all duration-300 group-hover:w-full\"></span>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n\r\n            <div className={cn(\r\n              \"transition-all duration-300 delay-300\",\r\n              isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'\r\n            )}>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"primary\"\r\n                isLoading={isLoading}\r\n                className=\"py-2.5 mt-3\"\r\n              >\r\n                <span className=\"flex items-center gap-2\">\r\n                  Sign in\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" className=\"w-5 h-5\">\r\n                    <path fillRule=\"evenodd\" d=\"M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z\" clipRule=\"evenodd\" />\r\n                    <path fillRule=\"evenodd\" d=\"M6 10a.75.75 0 01.75-.75h9.546l-1.048-.943a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 11-1.004-1.114l1.048-.943H6.75A.75.75 0 016 10z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                </span>\r\n              </Button>\r\n            </div>\r\n          </form>\r\n\r\n          <div className={cn(\r\n            \"mt-8 text-center transition-all duration-300 delay-400\",\r\n            isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'\r\n          )}>\r\n            <div className=\"relative flex items-center\">\r\n              <div className=\"flex-grow border-t border-neutral-200\"></div>\r\n              <span className=\"mx-3 flex-shrink text-xs text-neutral-500\">OR</span>\r\n              <div className=\"flex-grow border-t border-neutral-200\"></div>\r\n            </div>\r\n            \r\n            <p className=\"mt-6 text-sm text-secondary-600\">\r\n              Don't have an account?{' '}\r\n              <Link\r\n                to=\"/register\"\r\n                className=\"font-medium text-primary-600 hover:text-primary-700 relative group\"\r\n              >\r\n                Create one now\r\n                <span className=\"absolute bottom-0 left-0 w-0 h-0.5 bg-primary-500 transition-all duration-300 group-hover:w-full\"></span>\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n} "],"names":["LoginPage","login","error","isLoading","clearError","isAuthenticated","useAuthStore","navigate","useNavigate","from","_b","_a","useLocation","isVisible","setIsVisible","useState","register","handleSubmit","errors","useForm","zodResolver","loginFormSchema","useEffect","timer","onSubmit","data","toast","err","errorMessage","jsxs","jsx","Card","cn","CardContent","Link","Input","_c","_d","Button"],"mappings":"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"}