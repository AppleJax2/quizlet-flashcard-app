import{c as v,a as b,u as y,r as k,j as e,L as d}from"./index-311eb106.js";import{u as P}from"./index.esm-301e9dda.js";import{t as L}from"./index-8b2133c0.js";import{I as c,a as S}from"./Input-4131b281.js";import{C as r,a as t,B as m}from"./Card-05bb7dd2.js";function q(){var o,i;const{token:s}=v(),x=b(),{resetPassword:u,error:a,isLoading:h,clearError:p}=y(),[w,f]=k.useState(!1),{register:l,handleSubmit:j,formState:{errors:n},watch:C}=P({resolver:L(S),defaultValues:{password:"",confirmPassword:""}}),N=async g=>{if(s){p();try{await u({token:s,password:g.password}),f(!0)}catch{}}};return w?e.jsx("div",{className:"flex min-h-[80vh] items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:e.jsx(r,{className:"w-full max-w-md",children:e.jsxs(t,{className:"p-8",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Password Reset Successful"}),e.jsx("p",{className:"mt-2 text-neutral-600",children:"Your password has been successfully reset. You can now log in with your new password."})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(m,{type:"button",onClick:()=>x("/login"),className:"w-full py-2.5",children:"Go to Login"})})]})})}):s?e.jsx("div",{className:"flex min-h-[80vh] items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:e.jsx(r,{className:"w-full max-w-md",children:e.jsxs(t,{className:"p-8",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Reset Password"}),e.jsx("p",{className:"mt-2 text-neutral-600",children:"Enter and confirm your new password below."})]}),a&&e.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 p-4 text-red-700",children:a}),e.jsxs("form",{onSubmit:j(N),className:"space-y-6",children:[e.jsx(c,{label:"New Password",type:"password",error:(o=n.password)==null?void 0:o.message,fullWidth:!0,...l("password")}),e.jsx(c,{label:"Confirm Password",type:"password",error:(i=n.confirmPassword)==null?void 0:i.message,fullWidth:!0,...l("confirmPassword")}),e.jsx(m,{type:"submit",fullWidth:!0,isLoading:h,className:"py-2.5",children:"Reset Password"})]}),e.jsxs("div",{className:"mt-8 text-center text-sm text-neutral-600",children:["Remember your password?"," ",e.jsx(d,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-700",children:"Log in"})]})]})})}):e.jsx("div",{className:"flex min-h-[80vh] items-center justify-center px-4 py-12 sm:px-6 lg:px-8",children:e.jsx(r,{className:"w-full max-w-md",children:e.jsxs(t,{className:"p-8",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Invalid or Expired Token"}),e.jsx("p",{className:"mt-2 text-neutral-600",children:"The password reset link is invalid or has expired. Please request a new link."})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(d,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-700",children:"Request New Link"})})]})})})}export{q as default};
