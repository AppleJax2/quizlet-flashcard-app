import{u as f,r as i,j as e,L as d}from"./index-311eb106.js";import{f as w}from"./flashcard.service-000b262e.js";import{B as p,C as x,a as h}from"./Card-05bb7dd2.js";function b(){const{user:n}=f(),[r,a]=i.useState([]),[s,l]=i.useState(!0),[u,j]=i.useState(null);return i.useEffect(()=>{(async()=>{l(!0),j(null);try{const o=await w.getRecentSets();a(o)}catch(o){j("Failed to load recent flashcard sets"),console.error(o)}finally{l(!1)}})()},[]),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-neutral-900",children:["Welcome back, ",n==null?void 0:n.username,"!"]}),e.jsx("p",{className:"mt-2 text-neutral-600",children:"Here's an overview of your learning progress and recent activity."})]}),e.jsxs("div",{className:"mb-12 grid gap-6 md:grid-cols-3",children:[e.jsx(m,{title:"Flashcard Sets",value:"12",description:"Total sets created",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2"}),e.jsx("path",{d:"M12 18v4"}),e.jsx("path",{d:"M9 18v2"}),e.jsx("path",{d:"M15 18v2"}),e.jsx("path",{d:"M12 6V2"}),e.jsx("path",{d:"M9 6V4"}),e.jsx("path",{d:"M15 6V4"})]})}),e.jsx(m,{title:"Cards Studied",value:"254",description:"Last 30 days",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12 20l9-9"}),e.jsx("path",{d:"M16.5 15.5L22 10"}),e.jsx("path",{d:"M8 9l9 9"}),e.jsx("path",{d:"M2 14l6-6"})]})}),e.jsx(m,{title:"Mastery Level",value:"86%",description:"Overall progress",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12 2v20"}),e.jsx("path",{d:"M2 5h20"}),e.jsx("path",{d:"M5 12h14"}),e.jsx("path",{d:"M5 19h14"}),e.jsx("path",{d:"M2 12h3"}),e.jsx("path",{d:"M19 12h3"})]})})]}),e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Recent Flashcard Sets"}),e.jsx(d,{to:"/flashcards",children:e.jsx(p,{variant:"outline",children:"View All Sets"})})]}),s?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(3)].map((t,o)=>e.jsx(x,{className:"animate-pulse",children:e.jsxs(h,{className:"p-6",children:[e.jsx("div",{className:"mb-3 h-6 w-3/4 bg-neutral-200 rounded"}),e.jsx("div",{className:"mb-4 h-4 w-1/2 bg-neutral-200 rounded"}),e.jsx("div",{className:"h-8 w-full bg-neutral-200 rounded"})]})},o))}):u?e.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-red-700",children:u}):r.length>0?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(t=>e.jsx(d,{to:`/flashcards/${t.id}`,children:e.jsx(x,{className:"h-full transition-all hover:shadow-md",children:e.jsxs(h,{className:"flex h-full flex-col justify-between p-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 font-bold text-neutral-900",children:t.title}),e.jsx("p",{className:"text-sm text-neutral-600",children:t.description.length>100?`${t.description.substring(0,100)}...`:t.description})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-neutral-500",children:[t.cardCount," cards"]}),e.jsxs("span",{className:"text-neutral-500",children:["Last studied: ",g(t.lastStudied)]})]})]})})},t.id))}):e.jsxs("div",{className:"rounded-lg border border-neutral-200 bg-neutral-50 p-8 text-center",children:[e.jsx("h3",{className:"mb-2 text-lg font-medium text-neutral-900",children:"No flashcard sets yet"}),e.jsx("p",{className:"mb-6 text-neutral-600",children:"Create your first flashcard set to start learning more effectively."}),e.jsx(d,{to:"/flashcards/new",children:e.jsx(p,{children:"Create Flashcard Set"})})]}),e.jsx("div",{className:"mt-12 mb-8 flex items-center justify-between",children:e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Quick Actions"})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(c,{title:"Create New Set",description:"Create a new flashcard set from scratch",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),to:"/flashcards/new"}),e.jsx(c,{title:"Process Text",description:"Generate flashcards from text",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"4 7 4 4 20 4 20 7"}),e.jsx("line",{x1:"9",y1:"20",x2:"15",y2:"20"}),e.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20"})]}),to:"/processor/text"}),e.jsx(c,{title:"Extract from URL",description:"Create cards from webpage content",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),to:"/processor/url"}),e.jsx(c,{title:"Process Document",description:"Extract cards from documents",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),to:"/processor/document"})]})]})}const m=i.memo(function({title:r,value:a,description:s,icon:l}){return e.jsx(x,{className:"hover:shadow-md transition-shadow",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:r}),e.jsx("p",{className:"text-sm text-neutral-500",children:s}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-primary-600",children:a})]}),e.jsx("div",{className:"rounded-full bg-primary-100 p-3 text-primary-600",children:l})]})})})}),c=i.memo(function({title:r,description:a,icon:s,to:l}){return e.jsx(d,{to:l,children:e.jsx(x,{className:"h-full hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(h,{className:"flex h-full items-center p-6",children:[e.jsx("div",{className:"mr-4 rounded-full bg-neutral-100 p-3 text-neutral-600",children:s}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-neutral-900",children:r}),e.jsx("p",{className:"text-sm text-neutral-500",children:a})]})]})})})});function g(n){if(!n)return"Never";const r=new Date(n),s=Math.floor((new Date().getTime()-r.getTime())/(1e3*60*60*24));return s===0?"Today":s===1?"Yesterday":s<7?`${s} days ago`:r.toLocaleDateString("en-US",{month:"short",day:"numeric"})}export{b as default};
